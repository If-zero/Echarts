<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		<link rel="stylesheet" type="text/css" href="css/ech.css" />
		<!-- 解决H5页面终端适配 -->
		<script src="js/flexible.js"></script>
		<script src="js/echarts.min.js"></script>
		<!-- 引入jquery -->
		<script src="js/jquery.js" type="text/javascript" charset="utf-8"></script>

		<!-- 引入中国地图 -->
		<script src="js/china.js" type="text/javascript" charset="utf-8"></script>
		<!-- <script language="JavaScript">
		 setTimeout(function(){location.reload()},1000); //指定1秒刷新一次
		 </script> -->
	</head>
	<body>
		<!-- 头部 -->
		<header>
			<h1>大学毕业生数据平台</h1>
			<div class="showtime">
			</div>
			<!-- 获取时间 -->
			<script type="text/javascript">
				var t = null;
				t = setTimeout(time, 1000); //开始运行
				function time() {
					clearTimeout(t); //清除定时器
					dt = new Date();
					var y = dt.getFullYear();
					var mt = dt.getMonth() + 1;
					var day = dt.getDate();
					var h = dt.getHours(); // 获取时
					var m = dt.getMinutes(); // 获取分
					/* var s = dt.getSeconds(); //获取秒 */
					document.querySelector(".showtime").innerHTML =
						'当前时间:' + y +
						'年' + mt +
						'月' + day +
						'日' + h +
						':' + m /* +
						'分' */
					/* + s +
					'秒' */
					;
					t = setTimeout(time, 1000); //设置定时器，循环运行
				}
			</script>
		</header>

		<!-- 页面主题部分 -->
		<section class="mainbox">
			<!-- 左侧盒子 -->
			<div class="column">
				<div class="panel bar">
					<h2>毕业生人数（万）</h2>
					<div class="chart"></div>
					<div class="panel-footer"></div>
				</div>
				<div class="panel line">
					<h2>毕业生就业率趋势(%)
						<!-- <a href="javascript:;">2020</a>
						<a href="javascript:;">2021</a> -->
					</h2>
					<div class="chart">图表02</div>
					<div class="panel-footer"></div>
				</div>
				<div class="panel pie">
					<h2>毕业生就业形势认知</h2>
					<div class="chart">图表</div>
					<div class="panel-footer"></div>
				</div>
			</div>
			<div class="column">
				<!-- no模块制作 -->
				<div class="no">
					<div class="no-hd">
						<ul>
							<li>160000</li>
							<li>620000</li>
						</ul>
					</div>
					<div class="no-bd">
						<ul>
							<li>前端需求人数</li>
							<li>市场供应人数</li>
						</ul>
					</div>
				</div>
				<!-- 地图模块 -->
				<div class="map">
					<div class="map1"></div>
					<div class="map2"></div>
					<div class="map3"></div>
					<div class="chart"></div>
				</div>
			</div>
			<!-- 右 -->
			<div class="column">
				<div class="panel bar2">
					<h2>疫情后企业招聘</h2>
					<div class="chart">图表1</div>
					<div class="panel-footer"></div>
				</div>

				<div class="panel line2">
					<h2>毕业生期望薪资</h2>
					<div class="chart"></div>
					<div class="panel-footer"></div>
				</div>

				<div class="panel pie2">
					<h2>毕业生薪酬区间</h2>
					<div class="chart">图表3</div>
					<div class="panel-footer"></div>
				</div>
			</div>

		</section>

		<script type="text/javascript">
			/* 柱状图模块1 */
			(function() {
				/* 2.指定配置项和数据 */
				var myChart = echarts.init(document.querySelector('.bar .chart'));
				option = {
					color: ["#2f89cf"],
					xAxis: [{
						type: "category",
						data: ["2013", "2014", "2015", "2016", "2017", "2018", "2019"],
						axisLabel: {
							color: "rgba(255,255,255,.6)",
							fontSize: "12"
						},
						//  x轴样式不显示
						axisLine: {
							show: false
							// 如果想要设置单独的线条样式 
							// lineStyle: {
							//    color: "rgba(255,255,255,.1)",
							//    width: 1,
							//    type: "solid"
							//}
						}

					}],
					tooltip: {
						trigger: "axis",
						axisPointer: {
							// 坐标轴指示器，坐标轴触发有效
							type: "shadow" // 默认为直线，可选为：'line' | 'shadow'
						}
					},
					grid: {
						left: "0%",
						top: "10px",
						right: "0%",
						bottom: "4%",
						containLabel: true
					},
					yAxis: [{
						type: "value",
						axisLabel: {
							color: "rgba(255,255,255,.6)",
							fontSize: "12",
							// y 轴分隔线样式
							splitLine: {
								lineStyle: {
									color: "rgba(255,255,255,.1)"
								}
							}
						},
					}],
					series: [{
						name: "毕业人数",
						type: "bar",
						// 修改柱子宽度
						barWidth: "35%",
						data: [699, 727, 749, 765, 795, 820, 834],
						itemStyle: {
							// 修改柱子圆角
							barBorderRadius: 5
						}
					}]
				};

				/* 3.把配置项给实例对象 */
				myChart.setOption(option);

				/* 4.让图标跟随屏幕自动的去适应 */
				window.addEventListener("resize", function() {
					myChart.resize();
				})
			})();

			/* 柱状图模块2 */
			(function() {

				//1.实例化对象
				var myChart = echarts.init(document.querySelector('.bar2 .chart'));
				var myColor = ["#1089E7", "#F57474", "#56D0E3", "#F8B448", "#8B78F6"];
				//2.指定配置和数据
				option = {

					grid: {
						left: '22%',
						top: '10%',
						right: '15%',
						bottom: '10%',
						/* containLabel: true */
					},
					xAxis: {
						show: false
					},
					yAxis: [
						//第一组对象
						{
							type: 'category',
							//反向坐标值
							inverse: true,
							data: ['及时补充人才', '正常招聘', '待定', '招聘更多人才', '暂缓招聘'],
							// y轴字体颜色
							axisLabel: {
								color: '#ffffff'
							},
							//不显示y轴线条
							axisLine: {
								show: false
							},
							//不显示刻度
							axisTick: {
								show: false
							}
						},
						// 第二组对象
						{
							data: ['47.34%', '24.56%', '20.18%', '6.14%', '1.75%'],
							inverse: true,
							// y轴字体颜色
							axisLabel: {
								color: '#ffffff'
							},
							//不显示y轴线条
							axisLine: {
								show: false
							},
							//不显示刻度
							axisTick: {
								show: false
							}
						}
					],
					series: [
						// 第一组对象
						{
							name: '条',
							type: 'bar',
							data: [47.34, 24.56, 20.18, 6.14, 1.75],
							// 修改第一组柱子的圆角
							itemStyle: {
								barBorderRadius: 20,
								//修改柱子的颜色
								/* color:'aqua' */
								//修改每个柱子的颜色
								color: function(params) {
									//params 传进来的是柱子对象
									//dataIndex 是当前柱子的索引号
									return myColor[params.dataIndex];
								}
							},
							// 柱子之间的距离
							barCategoryGap: 50,
							//柱子的宽度
							barWidth: 10,
							//显示柱子内的文字
							label: {
								normal: {
									/* show: true, */
									//图形内显示
									/* position: 'inside', */
									//{c}会自动解析为 数据 data里面的数据
									/* formatter: '{c}%', */
								}
							},
							//添加层叠属性
							yAxisIndex: 0
						},
						// 第二组对象
						{
							name: '框',
							type: 'bar',
							data: [100, 100, 100, 100, 100],
							// 柱子之间的距离
							barCategoryGap: 50,
							//柱子的宽度
							barWidth: 15,
							itemStyle: {
								color: "none",
								borderColor: "#00c1de",
								borderWidth: 3,
								barBorderRadius: 15
							},
							//添加层叠属性
							yAxisIndex: 1
						}
					]
				};


				/* 3.把配置项给实例对象 */
				myChart.setOption(option);

				/* 4.让图标跟随屏幕自动的去适应 */
				window.addEventListener("resize", function() {
					myChart.resize();
				})
			})();

			/* 折线图 模块1  */
			(function() {
				var myChart = echarts.init(document.querySelector(".line .chart"));
				var colors = ['#5470C6', '#EE6666'];
				var yearData = [{
					year: '全国总体', // 年份
					data: [ // 两个数组是因为有两条线
						[92.6, 92.2, 91.8, 91.6, 91.0],
						[92.1, 91.7, 91.6, 91.9, 91.5],
						[91.5, 91.2, 91.5, 92.1, 92.0],
					]
				}, ];
				option = {

					tooltip: {
						trigger: 'axis'
					},
					// 图例组件
					legend: {
						textStyle: {
							color: '#4c9bfd' // 图例文字颜色
						},
						right: '10%',
						// 如果series 对象有name值，则lengend 可以不用data
						// data: ['邮件营销', '联盟广告', '视频广告', '直接访问', '搜索引擎'] 
					},
					grid: {
						top: '20%',
						left: '3%',
						right: '5%',
						bottom: '3%',
						show: true, // 显示边框
						borderColor: '#012f4a', // 边框颜色
						containLabel: true // 包含刻度文字在内

					},
					/* toolbox: {
					     feature: {
					         saveAsImage: {}
					     }
					 }, */
					xAxis: {

						type: 'category',
						data: ['2014', '2015', '2016', '2017', '2018'],

						axisTick: {
							show: false // 去除刻度线
						},
						axisLabel: {
							color: '#4c9bfd' // 文本颜色
						},
						axisLine: {
							show: false // 去除轴线
						},
						boundaryGap: false // 去除轴内间距
					},
					yAxis: {
						min: 91,
						max: 93,
						axisTick: {
							show: false // 去除刻度
						},
						axisLabel: {
							color: '#4c9bfd' // 文字颜色
						},
						splitLine: {
							lineStyle: {
								color: '#012f4a' // 分割线颜色
							}
						}
					},

					color: ['#00f2f1', '#ed3f35', '#4c9bfd'],
					series: [{
							name: '全国总体',
							type: 'line',
							/* data: [120, 132, 101, 134, 90, 230, 210], */
							data: yearData[0].data[0],
							// 折线修饰圆滑
							smooth: true
						},
						{
							name: '本科',
							type: 'line',
							//data: [220, 182, 191, 234, 290, 330, 310],
							data: yearData[0].data[1],
							smooth: true
						},
						{
							name: '高职高专',
							type: 'line',
							//data: [220, 182, 191, 234, 290, 330, 310],
							data: yearData[0].data[2],
							smooth: true
						}
					]
				};


				/* 3.把配置项给实例对象 */
				myChart.setOption(option);

				/* 4.让图标跟随屏幕自动的去适应 */
				window.addEventListener("resize", function() {
					myChart.resize();
				});

				// 5.点击切换效果

				$('.line h2').on('click', 'a', function() {
					//console.log($(this).index());
					//点击a 之后，根据当前a的索引号 找到对应的yearDate的相关对象
					console.log(yearData[$(this).index()]);

					var obj = yearData[$(this).index()];
					option.series[0].data = obj.data[0];
					option.series[1].data = obj.data[1];
					//需要重复渲染
					myChart.setOption(option);
				})
			})();

			/* 折线图 模块2 */
			(function() {
				var myChart = echarts.init(document.querySelector('.line2 .chart'));
				option = {

					tooltip: {
						trigger: 'axis',
						axisPointer: {
							type: 'cross',
							label: {
								backgroundColor: '#6a7985'
							}
						}
					},
					// 更换图例组件文字，颜色 
					legend: {
						data: ['大专', '本科', '硕士'],
						top: "0%",
						textStyle: {
							color: "rgba(255,255,255,.5)",
							fontSize: "12"
						}
					},

					// 修改图标大小
					grid: {
						left: "10",
						top: "30",
						right: "10",
						bottom: "10",
						containLabel: true
					},
					xAxis: [{
						type: 'category',
						boundaryGap: false,
						data: ["3k以下", "3-4k", "4-5k", "5-6k", "6-7k", "7-8k", "8-9k", "9-10k", "10-12k", "12-15k", "15k以上"],
						// 文本颜色为rgba(255,255,255,.6) 大小为12
						axisLabel: {
							textStyle: {
								color: 'rgba(255,255,255,.6)',
								fontSize: 10
							},
							interval: 0,
							formatter: function(value) {
								debugger
								var ret = ""; //拼接加\n返回的类目项  
								var maxLength = 6; //每项显示文字个数  
								var valLength = value.length; //X轴类目项的文字个数  
								var rowN = Math.ceil(valLength / maxLength); //类目项需要换行的行数  
								if (rowN > 1) //如果类目项的文字大于3,  
								{
									for (var i = 0; i < rowN; i++) {
										var temp = ""; //每次截取的字符串  
										var start = i * maxLength; //开始截取的位置  
										var end = start + maxLength; //结束截取的位置  
										//这里也可以加一个是否是最后一行的判断，但是不加也没有影响，那就不加吧  
										temp = value.substring(start, end) + "\n";
										ret += temp; //凭借最终的字符串  
									}
									return ret;
								} else {
									return value;
								}
							}

						},
						// x轴线颜色，
						axisLine: {
							lineStyle: {
								color: 'rgba(255,255,255,.2)'
							}
						}
					}],
					yAxis: [{
						type: 'value',
						axisTick: {
							show: false
						},
						axisLine: {
							textStyle: {
								color: "rgba(255,255,255,.6)",
								fontSize: 12
							}
						},
						axisLabel: {
							textStyle: {
								color: "rgba(255,255,255,.6)",
								fontSize: 12
							}
						},
						splitLine: {
							lineStyle: {
								color: "rgba(255,255,255,.1)"
							}
						}

					}],
					series: [{
							name: '大专',
							type: 'line',
							//第一条 线是圆滑
							smooth: true,
							// 单独修改线的样式
							lineStyle: {
								color: "#0184d5",
								width: 2
							},
							// 填充区域
							areaStyle: {
								// 渐变色，只需要复制即可
								color: new echarts.graphic.LinearGradient(
									0,
									0,
									0,
									1,
									[{
											offset: 0,
											color: "rgba(1, 132, 213, 0.4)" // 渐变色的起始颜色
										},
										{
											offset: 0.8,
											color: "rgba(1, 132, 213, 0.1)" // 渐变线的结束颜色
										}
									],
									false
								),
								shadowColor: "rgba(0, 0, 0, 0.1)"
							},
							// 设置拐点 小圆点
							symbol: "circle",
							// 拐点大小
							symbolSize: 8,
							// 设置拐点颜色以及边框
							itemStyle: {
								color: "#0184d5",
								borderColor: "rgba(221, 220, 107, .1)",
								borderWidth: 12
							},
							// 开始不显示拐点， 鼠标经过显示
							showSymbol: false,
							emphasis: {
								focus: 'series'
							},
							data: [0.7, 26.5, 28, 19, 7, 6, 4, 4, 3.5, 3, 4]
						},
						{
							name: '本科',

							type: "line",
							smooth: true,
							lineStyle: {
								color: "#00d887",
								width: 2
							},
							areaStyle: {
								color: new echarts.graphic.LinearGradient(
									0,
									0,
									0,
									1,
									[{
											offset: 0,
											color: "rgba(0, 216, 135, 0.4)"
										},
										{
											offset: 0.8,
											color: "rgba(0, 216, 135, 0.1)"
										}
									],
									false
								),
								shadowColor: "rgba(0, 0, 0, 0.1)"
							},
							// 设置拐点 小圆点
							symbol: "circle",
							// 拐点大小
							symbolSize: 5,
							// 设置拐点颜色以及边框
							itemStyle: {
								color: "#00d887",
								borderColor: "rgba(221, 220, 107, .1)",
								borderWidth: 12
							},
							// 开始不显示拐点， 鼠标经过显示
							showSymbol: false,
							label: {
								show: true,
								position: 'top'
							},
							emphasis: {
								focus: 'series'
							},
							data: [0.7, 7, 22, 24, 16, 11, 6, 5.5, 5, 3, 4],
						},
						{
							name: '硕士',
							type: 'line',
							//第一条 线是圆滑
							smooth: true,
							// 单独修改线的样式
							lineStyle: {
								color: "#BBC499",

								width: 2
							},
							// 填充区域
							areaStyle: {
								// 渐变色，只需要复制即可
								color: new echarts.graphic.LinearGradient(
									0,
									0,
									0,
									1,
									[{
											offset: 0,
											color: "rgba(187, 196, 153, 0.4)" // 渐变色的起始颜色
										},
										{
											offset: 0.8,
											color: "rgba(187, 196, 153, 0.1)" // 渐变线的结束颜色
										}
									],
									false
								),
								shadowColor: "rgba(0, 0, 0, 0.1)"
							},
							// 设置拐点 小圆点
							symbol: "circle",
							// 拐点大小
							symbolSize: 8,
							// 设置拐点颜色以及边框
							itemStyle: {
								color: "#BBC499",
								borderColor: "rgba(221, 220, 107, .1)",
								borderWidth: 12
							},
							// 开始不显示拐点， 鼠标经过显示
							showSymbol: false,
							emphasis: {
								focus: 'series'
							},
							data: [0.7, 0.9, 2, 4, 11, 16, 15, 14, 17, 13, 9]
						},
					]
				};


				/* 3.把配置项给实例对象 */
				myChart.setOption(option);

				/* 4.让图标跟随屏幕自动的去适应 */
				window.addEventListener("resize", function() {
					myChart.resize();
				})
			})();

			/* 饼状图 模块1 */
			(function() {
				var myChart = echarts.init(document.querySelector('.pie .chart'));

				option = {
					tooltip: {
						trigger: 'item',
						formatter: "{b} ({d}%)"
					},

					legend: {
						bottom: '0%',
						left: 'center',
						itemWidth: 10,
						itemHeight: 10,
						data: ['技术/研发', '产品运营/设计', '管培生', '职能支持', '市场/销售', '其他'],
						// 修改图例组建的文字为12
						textStyle: {
							color: "rgba(255,255,255,.5)",
							fontSize: 12
						}
					},
					color: [
						"#1089E7", "#F57474", "#56D0E3", "#F8B448", "#8B78F6","#15A2AE"
					],
					series: [{
						type: 'pie',
						//设置饼形图在容器中的位置
						center: ['50%', '40%'],
						//修改内圆半径和外圆半径为40% 60% ， 百分比是相对于容器宽度来说的
						radius: ['40%', '60%'],
						avoidLabelOverlap: false,

						// 不显示标签文字
						label: {
							normal: {
								show: true,
								formatter: '{d}%'
							},
							textStyle: {
								fontWeight: 'normal',
								fontSize: 12
							},
							labelLine: {
								show: true
							}

						},
						/*  emphasis: {
						      label: {
						          show: true,
						          fontSize: '40',
						          fontWeight: 'bold'
						      }
						  }, */
						// 不显示连接线
						labelLine: {},
						data: [{
								value: 2.05,
								name: '技术/研发'
							},

							{
								value: 45.55,
								name: '产品运营/设计'
							},
							{
								value: 19.16,
								name: '管培生'
							},
							{
								value: 12.71,
								name: '职能支持'
							},
							{
								value: 11.75,
								name: '市场/销售'
							},
							{
								value: 8.78,
								name: '其他'
							}
						]
					}]
				};


				//4.设置加载动画(非必须)
				//myChart.showLoading(); //数据加载完之前先显示一段简单的loading动画                        


				/* 3.把配置项给实例对象 */
				myChart.setOption(option);

				/* 4.让图标跟随屏幕自动的去适应 */
				window.addEventListener("resize", function() {
					myChart.resize();
				})
			})();

			/* 饼状图 模块2 */
			(function() {
				var myChart = echarts.init(document.querySelector('.pie2 .chart'));
				color: ['#006cff', '#60cda0', '#ed8884', '#ff9f7f', '#0096ff', '#9fe6b8'],
					option = {
						legend: {
							top: 'bottom'
						},

						series: [{
							name: '面积模式',
							type: 'pie',
							radius: ['10%', '50%'],
							center: ['50%', '40%'],
							//把饼状图改为半径模式
							roseType: 'radius',
							itemStyle: {
								borderRadius: 8
							},
							// 文本标签控制饼形图文字的相关样式，注意它是一个对象
							label: {
								fontSize: 16,
								color:'red',
								normal: {
									show: true,
									formatter: '{d}%'
								},
								textStyle: {
									fontWeight: 'normal',
									fontSize: 12,
									
								},
								labelLine: {
									show: true
								},
								
								
							},
							// 引导线调整
							labelLine: {
								// 连接扇形图线长
								length: 6,
								// 连接文字线长
								length2: 8
							},
							data: [{
									value: 0.7,
									name: '3k-'
								},
								{
									value: 33.3,
									name: '3-5k'
								},
								{
									value: 35.4,
									name: '5-7k'
								},
								{
									value: 17.4,
									name: '7-9k'
								},
								{
									value: 8.9,
									name: '9-10k'
								},
								{
									value: 4.3,
									name: '10k+'
								},
								
							]
						}]
					};


				/* 3.把配置项给实例对象 */
				myChart.setOption(option);

				/* 4.让图标跟随屏幕自动的去适应 */
				window.addEventListener("resize", function() {
					myChart.resize();
				})
			})();

			/* 地图模块 */
			(function() {
				var myChart = echarts.init(document.querySelector('.map .chart'));
				var geoCoordMap = {
					'上海': [121.4648, 31.2891],
					'东莞': [113.8953, 22.901],
					'东营': [118.7073, 37.5513],
					'中山': [113.4229, 22.478],
					'临汾': [111.4783, 36.1615],
					'临沂': [118.3118, 35.2936],
					'丹东': [124.541, 40.4242],
					'丽水': [119.5642, 28.1854],
					'乌鲁木齐': [87.9236, 43.5883],
					'佛山': [112.8955, 23.1097],
					'保定': [115.0488, 39.0948],
					'兰州': [103.5901, 36.3043],
					'包头': [110.3467, 41.4899],
					'北京': [116.4551, 40.2539],
					'北海': [109.314, 21.6211],
					'南京': [118.8062, 31.9208],
					'南宁': [108.479, 23.1152],
					'南昌': [116.0046, 28.6633],
					'南通': [121.1023, 32.1625],
					'厦门': [118.1689, 24.6478],
					'台州': [121.1353, 28.6688],
					'合肥': [117.29, 32.0581],
					'呼和浩特': [111.4124, 40.4901],
					'咸阳': [108.4131, 34.8706],
					'哈尔滨': [127.9688, 45.368],
					'唐山': [118.4766, 39.6826],
					'嘉兴': [120.9155, 30.6354],
					'大同': [113.7854, 39.8035],
					'大连': [122.2229, 39.4409],
					'天津': [117.4219, 39.4189],
					'太原': [112.3352, 37.9413],
					'威海': [121.9482, 37.1393],
					'宁波': [121.5967, 29.6466],
					'宝鸡': [107.1826, 34.3433],
					'宿迁': [118.5535, 33.7775],
					'常州': [119.4543, 31.5582],
					'广州': [113.5107, 23.2196],
					'廊坊': [116.521, 39.0509],
					'延安': [109.1052, 36.4252],
					'张家口': [115.1477, 40.8527],
					'徐州': [117.5208, 34.3268],
					'德州': [116.6858, 37.2107],
					'惠州': [114.6204, 23.1647],
					'成都': [103.9526, 30.7617],
					'扬州': [119.4653, 32.8162],
					'承德': [117.5757, 41.4075],
					'拉萨': [91.1865, 30.1465],
					'无锡': [120.3442, 31.5527],
					'日照': [119.2786, 35.5023],
					'昆明': [102.9199, 25.4663],
					'杭州': [119.5313, 29.8773],
					'枣庄': [117.323, 34.8926],
					'柳州': [109.3799, 24.9774],
					'株洲': [113.5327, 27.0319],
					'武汉': [114.3896, 30.6628],
					'汕头': [117.1692, 23.3405],
					'江门': [112.6318, 22.1484],
					'沈阳': [123.1238, 42.1216],
					'沧州': [116.8286, 38.2104],
					'河源': [114.917, 23.9722],
					'泉州': [118.3228, 25.1147],
					'泰安': [117.0264, 36.0516],
					'泰州': [120.0586, 32.5525],
					'济南': [117.1582, 36.8701],
					'济宁': [116.8286, 35.3375],
					'海口': [110.3893, 19.8516],
					'淄博': [118.0371, 36.6064],
					'淮安': [118.927, 33.4039],
					'深圳': [114.5435, 22.5439],
					'清远': [112.9175, 24.3292],
					'温州': [120.498, 27.8119],
					'渭南': [109.7864, 35.0299],
					'湖州': [119.8608, 30.7782],
					'湘潭': [112.5439, 27.7075],
					'滨州': [117.8174, 37.4963],
					'潍坊': [119.0918, 36.524],
					'烟台': [120.7397, 37.5128],
					'玉溪': [101.9312, 23.8898],
					'珠海': [113.7305, 22.1155],
					'盐城': [120.2234, 33.5577],
					'盘锦': [121.9482, 41.0449],
					'石家庄': [114.4995, 38.1006],
					'福州': [119.4543, 25.9222],
					'秦皇岛': [119.2126, 40.0232],
					'绍兴': [120.564, 29.7565],
					'聊城': [115.9167, 36.4032],
					'肇庆': [112.1265, 23.5822],
					'舟山': [122.2559, 30.2234],
					'苏州': [120.6519, 31.3989],
					'莱芜': [117.6526, 36.2714],
					'菏泽': [115.6201, 35.2057],
					'营口': [122.4316, 40.4297],
					'葫芦岛': [120.1575, 40.578],
					'衡水': [115.8838, 37.7161],
					'衢州': [118.6853, 28.8666],
					'西宁': [101.4038, 36.8207],
					'西安': [109.1162, 34.2004],
					'贵阳': [106.6992, 26.7682],
					'连云港': [119.1248, 34.552],
					'邢台': [114.8071, 37.2821],
					'邯郸': [114.4775, 36.535],
					'郑州': [113.4668, 34.6234],
					'鄂尔多斯': [108.9734, 39.2487],
					'重庆': [107.7539, 30.1904],
					'金华': [120.0037, 29.1028],
					'铜川': [109.0393, 35.1947],
					'银川': [106.3586, 38.1775],
					'镇江': [119.4763, 31.9702],
					'长春': [125.8154, 44.2584],
					'长沙': [113.0823, 28.2568],
					'长治': [112.8625, 36.4746],
					'阳泉': [113.4778, 38.0951],
					'青岛': [120.4651, 36.3373],
					'韶关': [113.7964, 24.7028]
				};
				var BJData = [
					[{
						name: "南通",
						value: 880
					}, {
						name: "南京"
					}],
					[{
						name: "徐州",
						value: 462
					}, {
						name: "南京"
					}],
					[{
						name: "盐城",
						value: 477
					}, {
						name: "南京"
					}],
					[{
						name: "金华",
						value: 38
					}, {
						name: "南京"
					}],
					[{
						name: "珠海",
						value: 5
					}, {
						name: " 南京"
					}],
					[{
						name: "盘锦",
						value: 13
					}, {
						name: "南京"
					}],
					[{
						name: "扬州",
						value: 572
					}, {
						name: "南京"
					}],
					[{
						name: "唐山",
						value: 24
					}, {
						name: "南京"
					}],
					[{
						name: "苏州",
						value: 533
					}, {
						name: "南京"
					}],
					[{
						name: "阳泉",
						value: 39
					}, {
						name: "南京"
					}],
					[{
						name: "重庆",
						value: 276
					}, {
						name: "南京"
					}],
					[{
						name: "天津",
						value: 259
					}, {
						name: "南京"
					}],
					[{
						name: "宝鸡",
						value: 32
					}, {
						name: "南京"
					}],
					[{
						name: "秦皇岛",
						value: 10
					}, {
						name: "南京"
					}],
					[{
						name: "北京",
						value: 190
					}, {
						name: "南京"
					}],
					[{
						name: "宿迁",
						value: 381
					}, {
						name: "南京"
					}],
					[{
						name: "潍坊",
						value: 18
					}, {
						name: "南京"
					}],
					[{
						name: "连云港",
						value: 429
					}, {
						name: "南京"
					}],
					[{
						name: "宁波",
						value: 36
					}, {
						name: "南京"
					}],
					[{
						name: "日照",
						value: 10
					}, {
						name: "南京"
					}],
					[{
						name: "深圳",
						value: 26
					}, {
						name: "南京"
					}],
					[{
						name: "张家口",
						value: 11
					}, {
						name: "南京"
					}],
					[{
						name: "丽水",
						value: 11
					}, {
						name: "南京"
					}],
					[{
						name: "镇江",
						value: 236
					}, {
						name: "南京"
					}],
					[{
						name: "上海",
						value: 234
					}, {
						name: "南京"
					}],
					[{
						name: "东莞",
						value: 11
					}, {
						name: "南京"
					}],
					[{
						name: "东营",
						value: 9
					}, {
						name: "南京"
					}],
					[{
						name: "中山",
						value: 11
					}, {
						name: "南京"
					}],
					[{
						name: "临汾",
						value: 38
					}, {
						name: "南京"
					}],
					[{
						name: "丹东",
						value: 8
					}, {
						name: "南京"
					}],
					[{
						name: "临沂",
						value: 19
					}, {
						name: "南京"
					}],
					[{
						name: "乌鲁木齐",
						value: 70
					}, {
						name: "南京"
					}],
					[{
						name: "佛山",
						value: 18
					}, {
						name: "南京"
					}],
					[{
						name: "保定",
						value: 12
					}, {
						name: "南京"
					}],
					[{
						name: "兰州",
						value: 110
					}, {
						name: "南京"
					}],
					[{
						name: "包头",
						value: 41
					}, {
						name: "南京"
					}],
					[{
						name: "北海",
						value: 8
					}, {
						name: "南京"
					}],
					[{
						name: "南宁",
						value: 77
					}, {
						name: "南京"
					}],
					[{
						name: "南昌",
						value: 27
					}, {
						name: "南京"
					}],
					[{
						name: "厦门",
						value: 24
					}, {
						name: "南京"
					}],
					[{
						name: "台州",
						value: 30
					}, {
						name: "南京"
					}],
					[{
						name: "合肥",
						value: 38
					}, {
						name: "南京"
					}],
					[{
						name: "呼和浩特",
						value: 37
					}, {
						name: "南京"
					}],
					[{
						name: "咸阳",
						value: 13
					}, {
						name: "南京"
					}],
					[{
						name: "哈尔滨",
						value: 31
					}, {
						name: "南京"
					}],
					[{
						name: "嘉兴",
						value: 20
					}, {
						name: "南京"
					}],
					[{
						name: "大连",
						value: 52
					}, {
						name: "南京"
					}],
					[{
						name: "太原",
						value: 86
					}, {
						name: "南京"
					}],
					[{
						name: "威海",
						value: 15
					}, {
						name: "南京"
					}],
					[{
						name: "大同",
						value: 55
					}, {
						name: "南京"
					}],
					[{
						name: "常州",
						value: 693
					}, {
						name: "南京"
					}],
					[{
						name: "广州",
						value: 16
					}, {
						name: "南京"
					}],
					[{
						name: "廊坊",
						value: 8
					}, {
						name: "南京"
					}],
					[{
						name: "延安",
						value: 3
					}, {
						name: "南京"
					}],
					[{
						name: "德州",
						value: 5
					}, {
						name: "南京"
					}],
					[{
						name: "惠州",
						value: 2
					}, {
						name: "南京"
					}],
					[{
						name: "成都",
						value: 71
					}, {
						name: "南京"
					}],
					[{
						name: "承德",
						value: 5
					}, {
						name: "南京"
					}],
					[{
						name: "拉萨",
						value: 0
					}, {
						name: "南京"
					}],
					[{
						name: "无锡",
						value: 530
					}, {
						name: "南京"
					}],
					[{
						name: "昆明",
						value: 104
					}, {
						name: "南京"
					}],
					[{
						name: "杭州",
						value: 63
					}, {
						name: "南京"
					}],
					[{
						name: "枣庄",
						value: 14
					}, {
						name: "南京"
					}],
					[{
						name: "柳州",
						value: 34
					}, {
						name: "南京"
					}],
					[{
						name: "株洲",
						value: 21
					}, {
						name: "南京"
					}],
					[{
						name: "武汉",
						value: 39
					}, {
						name: "南京"
					}],
					[{
						name: "江门",
						value: 7
					}, {
						name: "南京"
					}],
					[{
						name: "汕头",
						value: 11
					}, {
						name: "南京"
					}],
					[{
						name: "沈阳",
						value: 48
					}, {
						name: "南京"
					}],
					[{
						name: "沧州",
						value: 5
					}, {
						name: "南京"
					}],
					[{
						name: "河源",
						value: 1
					}, {
						name: "南京"
					}],
					[{
						name: "泉州",
						value: 25
					}, {
						name: "南京"
					}],
					[{
						name: "泰安",
						value: 16
					}, {
						name: "南京"
					}],
					[{
						name: "泰州",
						value: 382
					}, {
						name: "南京"
					}],
					[{
						name: "济南",
						value: 20
					}, {
						name: "南京"
					}],
					[{
						name: "济宁",
						value: 9
					}, {
						name: "南京"
					}],
					[{
						name: "海口",
						value: 72
					}, {
						name: "南京"
					}],
					[{
						name: "淄博",
						value: 30
					}, {
						name: "南京"
					}],
					[{
						name: "淮安",
						value: 394
					}, {
						name: "南京"
					}],
					[{
						name: "清远",
						value: 1
					}, {
						name: "南京"
					}],
					[{
						name: "湖州",
						value: 25
					}, {
						name: "南京"
					}],
					[{
						name: "温州",
						value: 42
					}, {
						name: "南京"
					}],
					[{
						name: "渭南",
						value: 14
					}, {
						name: "南京"
					}],
					[{
						name: "湘潭",
						value: 9
					}, {
						name: "南京"
					}],
					[{
						name: "滨州",
						value: 1
					}, {
						name: "南京"
					}],
					[{
						name: "烟台",
						value: 18
					}, {
						name: "南京"
					}],
					[{
						name: "玉溪",
						value: 23
					}, {
						name: "南京"
					}],
					[{
						name: "石家庄",
						value: 45
					}, {
						name: "南京"
					}],
					[{
						name: "福州",
						value: 22
					}, {
						name: "南京"
					}],
					[{
						name: "绍兴",
						value: 39
					}, {
						name: "南京"
					}],
					[{
						name: "聊城",
						value: 5
					}, {
						name: "南京"
					}],
					[{
						name: "肇庆",
						value: 0
					}, {
						name: "南京"
					}],
					[{
						name: "舟山",
						value: 13
					}, {
						name: "南京"
					}],
					[{
						name: "莱芜",
						value: 8
					}, {
						name: "南京"
					}],
					[{
						name: "菏泽",
						value: 7
					}, {
						name: "南京"
					}],
					[{
						name: "营口",
						value: 16
					}, {
						name: "南京"
					}],
					[{
						name: "葫芦岛",
						value: 10
					}, {
						name: "南京"
					}],
					[{
						name: "衡水",
						value: 26
					}, {
						name: "南京"
					}],
					[{
						name: "衢州",
						value: 13
					}, {
						name: "南京"
					}],
					[{
						name: "西宁",
						value: 2
					}, {
						name: "南京"
					}],
					[{
						name: "西安",
						value: 39
					}, {
						name: "南京"
					}],
					[{
						name: "贵阳",
						value: 124
					}, {
						name: "南京"
					}],
					[{
						name: "邢台",
						value: 16
					}, {
						name: "南京"
					}],
					[{
						name: "邯郸",
						value: 17
					}, {
						name: "南京"
					}],
					[{
						name: "郑州",
						value: 37
					}, {
						name: "南京"
					}],
					[{
						name: "鄂尔多斯",
						value: 8
					}, {
						name: "南京"
					}],
					[{
						name: "铜川",
						value: 8
					}, {
						name: "南京"
					}],
					[{
						name: "银川",
						value: 49
					}, {
						name: "南京"
					}],
					[{
						name: "长春",
						value: 24
					}, {
						name: "南京"
					}],
					[{
						name: "长沙",
						value: 29
					}, {
						name: "南京"
					}],
					[{
						name: "长治",
						value: 30
					}, {
						name: "南京"
					}],
					[{
						name: "青岛",
						value: 33
					}, {
						name: "南京"
					}],
					[{
						name: "韶关",
						value: 1
					}, {
						name: "南京"
					}]
				];

				var NJData = [
					[{
						name: '南京'
					}, {
						name: '上海',
						value: 327
					}],
					[{
						name: '南京'
					}, {
						name: '东莞',
						value: 7
					}],
					[{
						name: '南京'
					}, {
						name: '东营',
						value: 1
					}],
					[{
						name: '南京'
					}, {
						name: '中山',
						value: 1
					}],
					[{
						name: '南京'
					}, {
						name: '临汾',
						value: 1
					}],
					[{
						name: '南京'
					}, {
						name: '临沂',
						value: 4
					}],
					[{
						name: '南京'
					}, {
						name: '乌鲁木齐',
						value: 13
					}],
					[{
						name: '南京'
					}, {
						name: '佛山',
						value: 9
					}],
					[{
						name: '南京'
					}, {
						name: '兰州',
						value: 19
					}],
					[{
						name: '南京'
					}, {
						name: '包头',
						value: 5
					}],
					[{
						name: '南京'
					}, {
						name: '南京',
						value: 1519
					}],
					[{
						name: '南京'
					}, {
						name: '北京',
						value: 115
					}],
					[{
						name: '南京'
					}, {
						name: '南宁',
						value: 7
					}],
					[{
						name: '南京'
					}, {
						name: '南昌',
						value: 6
					}],
					[{
						name: '南京'
					}, {
						name: '南通',
						value: 99
					}],
					[{
						name: '南京'
					}, {
						name: '厦门',
						value: 11
					}],
					[{
						name: '南京'
					}, {
						name: '台州',
						value: 9
					}],
					[{
						name: '南京'
					}, {
						name: '合肥',
						value: 18
					}],
					[{
						name: '南京'
					}, {
						name: '呼和浩特',
						value: 6
					}],
					[{
						name: '南京'
					}, {
						name: '咸阳',
						value: 5
					}],
					[{
						name: '南京'
					}, {
						name: '哈尔滨',
						value: 4
					}],
					[{
						name: '南京'
					}, {
						name: '唐山',
						value: 1
					}],
					[{
						name: '南京'
					}, {
						name: '嘉兴',
						value: 11
					}],
					[{
						name: '南京'
					}, {
						name: '大同',
						value: 5
					}],
					[{
						name: '南京'
					}, {
						name: '大连',
						value: 6
					}],
					[{
						name: '南京'
					}, {
						name: '天津',
						value: 37
					}],
					[{
						name: '南京'
					}, {
						name: '太原',
						value: 7
					}],
					[{
						name: '南京'
					}, {
						name: '威海',
						value: 1
					}],
					[{
						name: '南京'
					}, {
						name: '宁波',
						value: 28
					}],
					[{
						name: '南京'
					}, {
						name: '宝鸡',
						value: 1
					}],
					[{
						name: '南京'
					}, {
						name: '宿迁',
						value: 22
					}],
					[{
						name: '南京'
					}, {
						name: '常州',
						value: 151
					}],
					[{
						name: '南京'
					}, {
						name: '广州',
						value: 28
					}],
					[{
						name: '南京'
					}, {
						name: '廊坊',
						value: 2
					}],
					[{
						name: '南京'
					}, {
						name: '徐州',
						value: 52
					}],
					[{
						name: '南京'
					}, {
						name: '惠州',
						value: 4
					}],
					[{
						name: '南京'
					}, {
						name: '成都',
						value: 17
					}],
					[{
						name: '南京'
					}, {
						name: '扬州',
						value: 55
					}],
					[{
						name: '南京'
					}, {
						name: '承德',
						value: 2
					}],
					[{
						name: '南京'
					}, {
						name: '拉萨',
						value: 1
					}],
					[{
						name: '南京'
					}, {
						name: '无锡',
						value: 96
					}],
					[{
						name: '南京'
					}, {
						name: '昆明',
						value: 17
					}],
					[{
						name: '南京'
					}, {
						name: '杭州',
						value: 76
					}],
					[{
						name: '南京'
					}, {
						name: '枣庄',
						value: 1
					}],
					[{
						name: '南京'
					}, {
						name: '柳州',
						value: 2
					}],
					[{
						name: '南京'
					}, {
						name: '株洲',
						value: 3
					}],
					[{
						name: '南京'
					}, {
						name: '武汉',
						value: 14
					}],
					[{
						name: '南京'
					}, {
						name: '江门',
						value: 1
					}],
					[{
						name: '南京'
					}, {
						name: '沈阳',
						value: 3
					}],
					[{
						name: '南京'
					}, {
						name: '沧州',
						value: 1
					}],
					[{
						name: '南京'
					}, {
						name: '河源',
						value: 1
					}],
					[{
						name: '南京'
					}, {
						name: '泉州',
						value: 4
					}],
					[{
						name: '南京'
					}, {
						name: '泰安',
						value: 2
					}],
					[{
						name: '南京'
					}, {
						name: '泰州',
						value: 39
					}],
					[{
						name: '南京'
					}, {
						name: '济南',
						value: 13
					}],
					[{
						name: '南京'
					}, {
						name: '济宁',
						value: 1
					}],
					[{
						name: '南京'
					}, {
						name: '海口',
						value: 16
					}],
					[{
						name: '南京'
					}, {
						name: '淄博',
						value: 9
					}],
					[{
						name: '南京'
					}, {
						name: '淮安',
						value: 22
					}],
					[{
						name: '南京'
					}, {
						name: '深圳',
						value: 81
					}],
					[{
						name: '南京'
					}, {
						name: '清远',
						value: 1
					}],
					[{
						name: '南京'
					}, {
						name: '潍坊',
						value: 1
					}],
					[{
						name: '南京'
					}, {
						name: '烟台',
						value: 10
					}],
					[{
						name: '南京'
					}, {
						name: '玉溪',
						value: 1
					}],
					[{
						name: '南京'
					}, {
						name: '珠海',
						value: 5
					}],
					[{
						name: '南京'
					}, {
						name: '盐城',
						value: 30
					}],
					[{
						name: '南京'
					}, {
						name: '盘锦',
						value: 1
					}],
					[{
						name: '南京'
					}, {
						name: '石家庄',
						value: 8
					}],
					[{
						name: '南京'
					}, {
						name: '福州',
						value: 10
					}],
					[{
						name: '南京'
					}, {
						name: '秦皇岛',
						value: 3
					}],
					[{
						name: '南京'
					}, {
						name: '盐城',
						value: 30
					}],
					[{
						name: '南京'
					}, {
						name: '绍兴',
						value: 13
					}],
					[{
						name: '南京'
					}, {
						name: '舟山',
						value: 3
					}],
					[{
						name: '南京'
					}, {
						name: '苏州',
						value: 128
					}],
					[{
						name: '南京'
					}, {
						name: '营口',
						value: 4
					}],
					[{
						name: '南京'
					}, {
						name: '衡水',
						value: 1
					}],
					[{
						name: '南京'
					}, {
						name: '西安',
						value: 18
					}],
					[{
						name: '南京'
					}, {
						name: '贵阳',
						value: 26
					}],
					[{
						name: '南京'
					}, {
						name: '连云港',
						value: 67
					}],
					[{
						name: '南京'
					}, {
						name: '邢台',
						value: 1
					}],
					[{
						name: '南京'
					}, {
						name: '邯郸',
						value: 2
					}],
					[{
						name: '南京'
					}, {
						name: '郑州',
						value: 15
					}],
					[{
						name: '南京'
					}, {
						name: '鄂尔多斯',
						value: 1
					}],
					[{
						name: '南京'
					}, {
						name: '重庆',
						value: 17
					}],
					[{
						name: '南京'
					}, {
						name: '金华',
						value: 5
					}],
					[{
						name: '南京'
					}, {
						name: '银川',
						value: 10
					}],
					[{
						name: '南京'
					}, {
						name: '镇江',
						value: 37
					}],
					[{
						name: '南京'
					}, {
						name: '长沙',
						value: 22
					}],
					[{
						name: '南京'
					}, {
						name: '阳泉',
						value: 1
					}],
					[{
						name: '南京'
					}, {
						name: '青岛',
						value: 23
					}]
				];

				var convertData = function(data) {
					var res = [];
					for (var i = 0; i < data.length; i++) {
						var dataItem = data[i];
						var fromCoord = geoCoordMap[dataItem[0].name];
						var toCoord = geoCoordMap[dataItem[1].name];
						if (fromCoord && toCoord) {
							res.push([{
									coord: fromCoord,
									value: dataItem[0].value
								},
								{
									coord: toCoord
								}
							]);
						}
					}
					return res;
				};

				var series = [];
				[
					["南京", BJData],
					["南京", NJData]
				].forEach(function(item, i) {
					series.push({
							type: "lines",
							zlevel: 2,
							effect: {
								show: true,
								period: 4, //箭头指向速度，值越小速度越快
								trailLength: 0.02, //特效尾迹长度[0,1]值越大，尾迹越长重
								symbol: "arrow", //箭头图标
								symbolSize: 4 //图标大小
							},
							lineStyle: {
								normal: {
									width: 0.5, //尾迹线条宽度
									opacity: 0, //尾迹线条透明度
									curveness: 0.3 //尾迹线条曲直度
								}
							},

							data: convertData(item[1])
						}, {
							type: "effectScatter",
							coordinateSystem: "geo",
							zlevel: 2,
							rippleEffect: {
								//涟漪特效
								period: 4, //动画时间，值越小速度越快
								brushType: "stroke", //波纹绘制方式 stroke, fill
								scale: 1 //波纹圆环最大限制，值越大波纹越大
							},
							label: {
								normal: {
									show: true,
									position: "right", //显示位置
									offset: [5, 0], //偏移设置
									formatter: "{b}" //圆环显示文字
								},
								emphasis: {
									show: true
								}
							},
							symbol: "circle",
							symbolSize: function(val) {
								return 4 + val[2] / 1000; //圆环大小
							},
							itemStyle: {
								normal: {
									show: false,
								}
							},
							data: item[1].map(function(dataItem) {
								return {
									name: dataItem[0].name,
									value: geoCoordMap[dataItem[0].name].concat([dataItem[0].value])
								};
							})
						},
						//被攻击点
						{
							type: "scatter",
							coordinateSystem: "geo",
							zlevel: 2,
							rippleEffect: {
								period: 4,
								brushType: "stroke",
								scale: 4
							},
							label: {
								normal: {

									show: true,
									position: "right",
									color: "#00ffff",
									formatter: "{b}",
									textStyle: {
										color: "#0bc7f3",

									}
								},
								emphasis: {
									show: true
								}
							},
							symbol: "pin",
							symbolSize: 30,
							itemStyle: {
								normal: {
									show: true,
									color: "#9966cc"
								}
							},
							data: [{
								name: item[0],
								value: geoCoordMap[item[0]].concat([100])
							}]
						}
					);
				});

				option = {
					title:{
						text:'大学生迁徙',
						  textStyle: { //主标题文本样式{"fontSize": 18,"fontWeight": "bolder","color": "#333"}
						             
						                fontSize: 15,
						               color: "rgba(255,255,255,1)",
						            },
						
					},
					tooltip: {
						trigger: "item",
						backgroundColor: "#1540a1",
						borderColor: "#FFFFCC",
						showDelay: 0,
						hideDelay: 0,
						enterable: true,
						transitionDuration: 0,
						extraCssText: "z-index:100",
						formatter: function(params, ticket, callback) {
							//根据业务自己拓展要显示的内容
							var res = "";
							var name = params.name;
							var value = params.value[params.seriesIndex + 1];
							res =
								"<span style='color:#fff;'>" +
								name +
								"</span><br/>人数：" + value;
							return res;
						}
					},

					visualMap: {
						//图例值控制
						min: 0,
						max: 10000,
						show: false,
						calculable: true,
						color: ["#0bc7f3"],
						textStyle: {
							color: "#fff",
							fontSize: 10,
						},

					},
					geo: {
						map: "china",
						label: {
							emphasis: {
								show: false
							}
						},
						roam: false, //是否允许缩放
						layoutCenter: ["50%", "50%"], //地图位置
						layoutSize: "100%",
						itemStyle: {
							normal: {
								areaColor: '#142957', //地图背景色
								borderColor: '#0692a4', //省市边界线
							},
							emphasis: {
								areaColor: '#0b1c2d' //悬浮背景
							}
						}
					},
					series: series
				};


				/* 3.把配置项给实例对象 */
				myChart.setOption(option);
			})();
		</script>

	</body>
</html>
